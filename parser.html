<!doctype html>
<html lang="en">
<head>
  <title>HTML5 Parser</title>
  <link rel="stylesheet" href="css/style.css?v=2">  
  <style>
    #parser h1 { color: #e4192d; }
    #parser > div { width: 48%; margin-right: 2%;  float: left; }
    #parser > div:last-of-type { margin-right: 0; }
    body, html { overflow-y: visible; }
  </style>
</head>
<body>
  <div id="parser">
    <h1>The HTML5 parser</h3>          
    <div>
      <h2>The Markup</h2>
      <p class="parsing"></p>             
    </div>
    <div>
      <h2>The Parsed Result</h2>
      <p class="result"></p>            
    </div>    
  </div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>  
  <script>  
  $(function() {
    /* PARSER DEMO */
    var preparse = "Remember the days when just forgetting to close a paragraph tag would cause nightmares? Fear no more, now with the new parsing algorithm, <i>eve <b>ry</i> browser</b> renders these missing elements in the same manner.";
    var addmark = function(parsedstring) {
      return parsedstring.replace(/(<)([^<>]*)(>)/g, "&lt;$2&gt;").replace(/(&lt;.*&gt;)/g, "<mark>$1</mark");
    };
    var empty = $('<div/>');
    empty.html(preparse);
    $('#parser .parsing').text(preparse);
    preparse = addmark($('#parser .parsing').text());
    $('#parser .parsing').html(preparse);
    $('#parser .result').text(empty.html());
    $('#parser .result').html(addmark($('#parser .result').text()));
  });
  </script>
</body>
</html>